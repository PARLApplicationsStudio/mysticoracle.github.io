<!DOCTYPE html>
<html lang="fa">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Mystic Oracle</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
<style>
  /* CSS برای رابط بازی */
  body {
    margin: 0;
    padding: 0;
    font-family: 'Monospace', monospace;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    overflow: hidden;
    background-color: #1a1a1a;
    color: #fff;
    position: relative; /* این را برای قرار دادن دکمه بی‌صدا اضافه کنید */
  }

  /* استایل دکمه بی‌صدا */
  #mute-button {
    position: absolute;
    top: 10px;
    right: 10px;
    width: 35px;
    height: 35px;
    border-radius: 50%;
    background-color: transparent; /* رنگ زمینه دکمه را به شفاف تغییر دهید */
    border: none; /* حذف حاشیه */
    display: flex;
    justify-content: center;
    align-items: center;
    cursor: pointer;
  }

  #mute-button:hover {
    background-color: rgba(255, 255, 255, 0.1); /* اضافه کردن شفافیت کمی در هنگام توری روی دکمه */
  }

  #mute-button i {
    font-size: 24px;
    color: #fff; /* تنظیم رنگ آیکون به سفید */
  }

  #game-content {
    text-align: center;
  }

  #video-background {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    object-fit: cover;
    z-index: -1;
    filter: brightness(50%);
  }

  #game-title {
    font-size: 4em;
    margin-bottom: 50px;
    color: #fff;
    text-shadow: 0 0 5px #d5d5d5, 0 0 5px #d5d5d5, 0 0 5px #d5d5d5, 0 0 5px #d5d5d5, 0 0 5px #d5d5d5;
  }

  #question-input {
    margin: 20px auto;
    margin-bottom: 50px;
    padding: 10px;
    font-size: 1.2em;
    border: 2px solid #fff;
    color: #fff;
    width: 80%;
    max-width: 400px; /* تنظیم حداکثر عرض */
    text-align: center;
    font-family: 'Monospace', monospace;
    outline: none;
    background-color: transparent;
  }

  #question-input::placeholder {
    color: #fff;
    opacity: 0.5;
  }

  #answer {
    margin: 20px auto 40px auto;
    font-size: 1.5em;
    font-weight: bold;
  }

  button {
    margin-bottom: 30px;
    padding: 10px 20px;
    font-size: 1.2em;
    font-family: 'Monospace', monospace;
    background-color: #fff;
    color: black;
    border: none;
    border-radius: 0;
    cursor: pointer;
    transition: background-color 0.3s;
  }

  button:hover {
    background-color: #e0e0e0;
  }

  /* CSS برای صفحات کوچکتر */
  @media (max-width: 768px) {
    #question-input {
      font-size: 1em;
    }
    #game-title {
      font-size: 3em;
    }
  }
</style>
</head>
<body>
  <audio id="background-music" src="https://cdn.pixabay.com/download/audio/2021/08/09/audio_236f0d8d6b.mp3?filename=wandering-6394.mp3" loop volume="0.6" autoplay></audio>
  <button id="mute-button" onclick="toggleMute()">
    <i class="material-icons">volume_up</i>
  </button>
  <div id="game-content">
    <video id="video-background" autoplay muted loop>
      مرورگر شما از تگ ویدیو پشتیبانی نمی‌کند.
    </video>
    <h1 id="game-title">Mystic Oracle</h1>
    <input type="text" id="question-input" placeholder="سوال شما چیست؟">
    <br>
    <button id="answer-button" onclick="checkQuestion()">جواب خود را بگیرید</button>
    <div id="answer"></div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/typed.js@2.0.12"></script>
  <script>
    const videoUrls = [
      "https://cdn.pixabay.com/video/2019/08/17/26097-357512275_large.mp4",
      "https://cdn.pixabay.com/video/2019/10/01/27438-363642440_large.mp4",
      "https://cdn.pixabay.com/video/2021/02/02/63885-508273140_large.mp4",
      "https://cdn.pixabay.com/video/2021/05/23/74933-554074594_large.mp4",
      "https://cdn.pixabay.com/video/2017/12/20/13495-248644905_large.mp4"
    ];

    // انتخاب تصادفی URL ویدیو از آرایه
    const randomVideoUrl = videoUrls[Math.floor(Math.random() * videoUrls.length)];

    // تنظیم URL انتخاب شده به عنوان منبع برای عنصر ویدیو پس زمینه
    const videoBackground = document.getElementById('video-background');
    videoBackground.src = randomVideoUrl;

    const gameTitle = document.getElementById("game-title");
    const questionInput = document.getElementById("question-input");
    const answerText = document.getElementById("answer");
    const answerButton = document.getElementById("answer-button");

    // اعمال تأثیرات شفاف کردن و پرت کردن به صورت متوالی برای عناصر بازی
    setTimeout(() => {
      gameTitle.classList.add("visible");
    }, 500);

    setTimeout(() => {
      questionInput.classList.add("visible");
    }, 1000);

    setTimeout(() => {
      answerText.classList.add("visible");
    }, 1500);

    setTimeout(() => {
      answerButton.classList.add("visible");
    }, 2000);

    let lastQuestion = ''; // متغیر برای ذخیره آخرین سوال پرسیده شده
    let buttonCooldown = false; // پرچم برای ردیابی سکون دکمه

    // مقداردهی اولیه Typed.js
    var typed = new Typed('#answer', {
      strings: [''], // آرایه خالی برای شروع بدون متن
      typeSpeed: 30, // سرعت تایپ سریعتر به میلی‌ثانیه
      backSpeed: 20, // سرعت حذف سریعتر به میلی‌ثانیه
      loop: false // انیمیشن تایپ تکرار نمی‌شود
    });

    // تابع برای بروزرسانی متن جواب و ایجاد انیمیشن تایپ
    function updateAnswerText(answer) {
      typed.reset(); // تنظیم مجدد Typed.js
      typed.strings = [answer]; // تنظیم متن جواب برای انیمیشن تایپ
      typed.start(); // شروع انیمیشن تایپ
    }

    // تابع برای گرفتن یک جواب تصادفی از لیست از پیش تعریف شده
    function getAnswer() {
      const answers = [
        "بله",
        "خیر",
        "قطعاً",
        "قطعا",
        "به اطمینان",
        "بدون شک",
        "مطمئناً",
        "احتمالاً",
        "در آینده ممکن است",
        "بپرس دوباره بعداً",
        "نمی‌توان پیش بینی کرد",
        "نمی‌توانم الان پیش بینی کنم",
        "تمرکز کنید و دوباره بپرسید",
        "به آن اعتماد نکنید",
        "منابعم می‌گویند نه",
        "چشم انداز خوب نیست",
        "شک بسیار",
        "مطمئن باشید",
        "قطعاً",
        "به طور قطع",
        "بی‌تردید",
        "می‌توانید بر روی آن شرط ببندید",
        "احتمالات بالا هستند",
        "احتمالاً",
        "همه نشانه‌ها به بله اشاره می‌کنند",
        "ستاره‌ها برای بله ترازو می‌کشند",
        "این شرط امن است",
        "به احتمال زیاد",
        "همه نشانگرها به بله اشاره می‌کنند",
        "قطعاً و بدون شک",
        "به طور مطلق بدون شک",
        "قطعاً بدون تردید",
        "بدون سوال",
        "به طور قطعی",
        "بیش از همه اطمینان دارم",
        "به طور قطعی بله",
        "طبیعی",
        "بدون شک",
        "صد در صد",
        "قطعا",
        "بدون هیچ سوال",
        "بدون هیچ شک و تردیدی",
        "بدون هیچ شک و تردیدی",
        "بدون هیچ سوال",
        "من اطمینان دارم",
        "بدون هیچ سوال یا تردیدی",
        "همچنین مطمئن است که هیچ سوالی وجود ندارد",
        "صد در صد",
        "بدون هیچ سوال",
        "بدون هیچ شک یا تردیدی",
        "بدون هیچ سوالی",
        "به هیچ عنوان شکی وجود ندارد",
        "مطمئن باشید",
        "بدون هیچ شکی",
        "بدون هیچ سوال یا تردیدی",
        "بدون هیچ شک یا تردیدی",
        "بدون هیچ سوال یا تردیدی",
        "بدون هیچ شک یا تردیدی",
        "بدون هیچ سوال یا تردیدی",
        "بدون هیچ شک یا تردیدی",
        "همچنین مطمئن است که هیچ سوالی وجود ندارد",
        "اونا اطمینان دارند",
        "بدون هیچ سوال",
        "بدون هیچ شک یا همچنین",
        "همچنین مطمئن است که هیچ سوالی وجود ندارد",
        "بدون هیچ سوال",
        "به هیچ عنوان شکی وجود ندارد",
        "به هیچ عنوان سوالی",
        "بدون هیچ سوال یا همچنین",
        "بدون هیچ سوال یا همچنین",
        "بدون هیچ شک یا همچنین",
        "به هیچ عنوان سوالی",
        "متأسفم، نمی‌توانم به این سوال پاسخ دهم...",
        "خب، این یک پیچیدگی است!",
        "وای، من این را نمی‌بینم!",
        "این یک مورد جدید است!",
        "شما من را به تعجب انداختید!",
        "همانطور که انتظار می‌رفت نیست!",
        "من مطمئن نیستم که چگونه به آن پاسخ دهم!",
        "این یک موضوع سخت است!",
        "همانطور که انتظار می‌رفت نیست!",
        "بهتر است یک دقیقه فکر کنم.",
        "من اطمینان ندارم که چگونه به این پاسخ دهم!",
        "این یک مسئله پیچیده است!",
        "بله، سوال جالبی است...",
        "خب، این یک پیچیدگی است!",
        "وای، من این را نمی‌بینم!",
        "این یک مورد جدید است!",
        "شما من را به تعجب انداختید!",
        "همانطور که انتظار می‌رفت نیست!",
        "بهتر است یک دقیقه فکر کنم.",
        "من اطمینان ندارم که چگونه به این پاسخ دهم!",
        "این یک مسئله پیچیده است!",
        "بله، سوال جالبی است..."
      ];
      return answers[Math.floor(Math.random() * answers.length)];
    }

    // تابع برای بررسی سوال و نمایش جواب
    function checkQuestion() {
      const question = questionInput.value.trim();

      // بررسی می‌کند که آیا سوال تکراری است یا خیر
      if (question === lastQuestion || buttonCooldown) {
        updateAnswerText("بهتر است یک دقیقه دیگر صبر کنید!");
        return;
      }

      // بررسی می‌کند که آیا سوال خالی است یا خیر
      if (question === '') {
        updateAnswerText("لطفاً یک سوال معتبر وارد کنید!");
        return;
      }

      // در صورتی که سوال معتبر باشد، جواب تولید می‌شود و نمایش داده می‌شود
      const answer = getAnswer();
      updateAnswerText(answer);

      // ست کردن سوال اخیر و فعال‌سازی زمان برای دکمه
      lastQuestion = question;
      buttonCooldown = true;
      setTimeout(() => {
        buttonCooldown = false;
      }, 5000); // زمان مورد نیاز برای ریست دکمه به 5 ثانیه تنظیم شده است
    }

    // تابع برای خاموش و روشن کردن موسیقی پس زمینه
    function toggleMute() {
      const backgroundMusic = document.getElementById('background-music');
      const muteButtonIcon = document.querySelector('#mute-button i');

      if (backgroundMusic.paused) {
        backgroundMusic.play();
        muteButtonIcon.textContent = "volume_up";
      } else {
        backgroundMusic.pause();
        muteButtonIcon.textContent = "volume_off";
      }
    }
  </script>
</body>
</html>
